# lollms server
LOLLMS_HOST_ADDRESS=http://localhost:57964
LOLLMS_API_KEY=changeme-or-empty
LOLLMS_VERIFY_SSL=true

# binding override (optional)
LOLLMS_BINDING_NAME=
LOLLMS_MODEL_NAME=
LOLLMS_CONTEXT_SIZE=

# ============================================
# SECURITY CONFIGURATION - READ CAREFULLY
# ============================================

# Gateway host binding (CRITICAL SECURITY SETTING)
# DEFAULT: 127.0.0.1 (localhost only - SAFEST)
# DANGER: 0.0.0.0 exposes to all network interfaces
LOLLMSBOT_HOST=127.0.0.1
LOLLMSBOT_PORT=8800

# API Key for external access (REQUIRED if not localhost)
LOLLMSBOT_API_KEY=

# CORS Origins (comma-separated list of allowed origins)
# DEFAULT: "http://localhost,http://127.0.0.1" for localhost mode
# Example: LOLLMSBOT_CORS_ORIGINS=https://example.com,https://app.example.com
# Leave empty to allow all origins (NOT RECOMMENDED for production)
LOLLMSBOT_CORS_ORIGINS=

# Default permission level for new users
# Options: NONE (no access), BASIC (chat only), TOOLS (chat + tools), ADMIN (full)
LOLLMSBOT_DEFAULT_PERMISSION=BASIC

# Enable shell tool (DANGEROUS - only enable if you trust all users)
# Shell commands execute in Docker sandbox if available, otherwise with security policies
LOLLMSBOT_ENABLE_SHELL=false

# ============================================
# MULTI-PROVIDER API SYSTEM
# ============================================

# Enable multi-provider system (OpenRouter + Ollama Cloud)
USE_MULTI_PROVIDER=true

# Prefer free tier (OpenRouter free models) before paid (Ollama)
PREFER_FREE_TIER=true

# Enable individual providers
OPENROUTER_ENABLED=true
OLLAMA_ENABLED=true

# OpenRouter API keys (up to 3 for quota cycling)
OPENROUTER_API_KEY_1=
OPENROUTER_API_KEY_2=
OPENROUTER_API_KEY_3=

# Ollama Cloud API keys (up to 2 for load balancing)
OLLAMA_API_KEY=
OLLAMA_API_KEY_2=

# ============================================
# RC2 SUB-AGENT (REFLECTIVE CONSTELLATION 2.0)
# ============================================

# Enable RC2 advanced capabilities (default: false for safety)
RC2_ENABLED=false

# Rate limiting: max RC2 requests per user per minute
RC2_RATE_LIMIT=5

# Use multi-provider for RC2 (recommended)
RC2_USE_MULTI_PROVIDER=true

# Individual capability toggles
RC2_CONSTITUTIONAL=true     # Constitutional review (Byzantine consensus)
RC2_INTROSPECTION=true      # Deep reasoning analysis
RC2_SELF_MODIFICATION=false # Self-modification proposals (EXPERIMENTAL)
RC2_META_LEARNING=false     # Meta-learning optimization (EXPERIMENTAL)
RC2_HEALING=false           # Auto error healing (EXPERIMENTAL)
RC2_VISUAL=false            # Visual monitoring (EXPERIMENTAL)

# ============================================
# DISCORD CHANNEL
# ============================================

# Discord bot token - get from https://discord.com/developers/applications
DISCORD_BOT_TOKEN=

# COMMA-SEPARATED list of allowed Discord user IDs (optional, empty = allow all)
# Example: DISCORD_ALLOWED_USERS=123456789,987654321
DISCORD_ALLOWED_USERS=

# COMMA-SEPARATED list of allowed server/guild IDs (optional, empty = allow all)
# Example: DISCORD_ALLOWED_GUILDS=111111111,222222222
DISCORD_ALLOWED_GUILDS=

# COMMA-SEPARATED list of blocked user IDs
DISCORD_BLOCKED_USERS=

# Mention requirements
# In guild channels: require @bot mention to respond (default: true)
DISCORD_REQUIRE_MENTION_GUILD=true
# In DMs: require @bot mention to respond (default: false - DMs auto-respond)
DISCORD_REQUIRE_MENTION_DM=false

# ============================================
# TELEGRAM CHANNEL
# ============================================

# Telegram bot token - get from @BotFather
TELEGRAM_BOT_TOKEN=

# COMMA-SEPARATED list of allowed Telegram user IDs
TELEGRAM_ALLOWED_USERS=

# COMMA-SEPARATED list of blocked Telegram user IDs
TELEGRAM_BLOCKED_USERS=

# ============================================
# WEB UI
# ============================================

LOLLMSBOT_ENABLE_UI=false

# ============================================
# AWESOME CLAUDE SKILLS INTEGRATION
# ============================================

# Enable awesome-claude-skills integration (default: true)
AWESOME_SKILLS_ENABLED_FLAG=true

# Auto-update skills repository on startup (default: true)
AWESOME_SKILLS_AUTO_UPDATE=true

# Repository URL for awesome-claude-skills
AWESOME_SKILLS_REPO_URL=https://github.com/Grumpified-OGGVCT/awesome-claude-skills.git

# Custom directory for skills (optional, default: ~/.lollmsbot/awesome-skills)
AWESOME_SKILLS_DIR=

# Comma-separated list of enabled skill names
# Leave empty to enable all skills
# Example: AWESOME_SKILLS_ENABLED=domain-name-brainstormer,meeting-insights-analyzer
AWESOME_SKILLS_ENABLED=

# Auto-load enabled skills on startup (default: true)
AWESOME_SKILLS_AUTO_LOAD=true

# Enable security scanning for skills (default: true, HIGHLY RECOMMENDED)
# Scans skills for malicious patterns before loading
# See SECURITY.md for details on threats detected
AWESOME_SKILLS_SECURITY_SCANNING=true

# ============================================
# API KEY PROTECTION (SECURITY)
# ============================================

# Enable API key detection in inputs/outputs (default: true)
API_KEY_PROTECTION_ENABLED=true

# Enable automatic redaction of API keys from logs (default: true)
API_KEY_REDACTION_ENABLED=true

# Warn users when API keys detected in input (default: true)
API_KEY_WARN_ON_DETECTION=true

# Days before recommending key rotation (default: 90)
API_KEY_ROTATION_WARNING_DAYS=90

# ============================================
# ADAPTIVE THREAT INTELLIGENCE (REAL-TIME LEARNING)
# ============================================

# Enable adaptive learning from threats (default: true)
# System learns from attack attempts and builds NEW defenses
ADAPTIVE_LEARNING_ENABLED=true

# Minimum observations before creating new pattern (default: 3)
# Higher = more conservative, lower = faster adaptation
ADAPTIVE_MIN_OBSERVATIONS=3

# Enable automatic pattern generation (default: true)
# Extract reusable patterns from observed threats
ADAPTIVE_PATTERN_GENERATION=true

# Path to learned patterns database (default: ~/.lollmsbot/threat_intel.json)
ADAPTIVE_DB_PATH=

# ============================================
# GUARDIAN SECURITY LAYER
# ============================================

# Enable Guardian security layer (default: true)
GUARDIAN_ENABLED=true

# Prompt injection detection threshold (0.0-1.0, default: 0.75)
# Higher = less sensitive, lower = more strict
# 0.5 = paranoid, 0.75 = balanced, 0.9 = permissive
GUARDIAN_INJECTION_THRESHOLD=0.75

# Auto-quarantine on critical threats (default: true)
GUARDIAN_AUTO_QUARANTINE=true

# Path to ethics rules file (default: ~/.lollmsbot/ethics.md)
GUARDIAN_ETHICS_FILE=

# Path to audit log (default: ~/.lollmsbot/audit.log)
GUARDIAN_AUDIT_LOG=

# Resource limits (PREVENT RAM/DISK EXHAUSTION)
# Max events in memory (default: 10000)
GUARDIAN_MAX_EVENT_HISTORY=10000

# Max API key hashes to track (default: 1000)
GUARDIAN_MAX_API_KEY_HASHES=1000

# Max audit log size in MB before warning (default: 10)
GUARDIAN_MAX_AUDIT_LOG_MB=10

# ============================================
# SECURITY MONITORING (BACKGROUND SCANNING)
# ============================================

# Enable background security monitoring (default: true)
# Runs periodic scans to keep defenses up-to-date
SECURITY_MONITORING_ENABLED=true

# How often to run security scans (minutes, default: 30)
SECURITY_MONITORING_SCAN_INTERVAL=30

# How often to check for pattern updates (hours, default: 24)
SECURITY_MONITORING_PATTERN_UPDATE_INTERVAL=24

# Enable threat intelligence updates (default: false)
# Requires external threat intel feed
SECURITY_MONITORING_THREAT_INTEL_ENABLED=false

# Threat intelligence feed URL (optional)
SECURITY_MONITORING_THREAT_INTEL_URL=

# ============================================
# SANDBOX SECURITY
# ============================================

# Enable Docker sandbox (default: true if Docker available)
SANDBOX_ENABLED=true

# Mount policy: minimal, restricted, permissive (default: restricted)
# minimal = only workspace, read-only
# restricted = home + temp, blocks system paths (RECOMMENDED)
# permissive = more paths, still blocks critical system paths
SANDBOX_MOUNT_POLICY=restricted

# ============================================
# SELF-AWARENESS & INTROSPECTION
# ============================================

# Enable self-awareness system (default: true)
SELF_AWARENESS_ENABLED=true

# Awareness level: MINIMAL, LOW, MODERATE, HIGH, MAXIMUM
# Higher levels provide deeper introspection but use more resources
# MINIMAL (0): Basic state tracking only
# LOW (2): + Decision logging  
# MODERATE (5): + Pattern recognition (DEFAULT)
# HIGH (7): + Real-time introspection
# MAXIMUM (10): + Full meta-cognition, reflection loops
SELF_AWARENESS_LEVEL=MODERATE

# Feature toggles (override level defaults)
# State tracking - monitors internal state
SELF_AWARENESS_STATE_TRACKING=true
# Decision logging - records all decisions with reasoning
SELF_AWARENESS_DECISION_LOGGING=true
# Pattern recognition - identifies behavioral patterns
SELF_AWARENESS_PATTERN_RECOGNITION=true
# Real-time introspection - on-demand self-analysis
SELF_AWARENESS_REAL_TIME_INTROSPECTION=false
# Confidence tracking - monitors decision confidence
SELF_AWARENESS_CONFIDENCE_TRACKING=false
# Meta-cognition - thinking about thinking
SELF_AWARENESS_META_COGNITION=false
# Reflection loops - periodic self-reflection
SELF_AWARENESS_REFLECTION_LOOPS=false
# Goal tracking - tracks active goals and motivations
SELF_AWARENESS_GOAL_TRACKING=false

# Resource limits & safety restraints
# Maximum depth of meta-reasoning (1-10)
SELF_AWARENESS_MAX_DEPTH=3
# Reflection interval in seconds (default: 60)
SELF_AWARENESS_REFLECTION_INTERVAL=60.0
# Maximum decision history to keep
SELF_AWARENESS_MAX_DECISIONS=1000
# Introspection timeout in seconds
SELF_AWARENESS_TIMEOUT=5.0

# Integration settings
# Use RC2 sub-agent for deep introspection (requires RC2_ENABLED=true)
SELF_AWARENESS_USE_RC2=true

# ============================================
# PHASE 2: REFLECTIVE CONSCIOUSNESS LAYER (RCL-2)
# ============================================

# Enable RCL-2 cognitive architecture (default: false, experimental)
RCL2_ENABLED=false

# Enable dual-process cognition (System 1 + System 2)
RCL2_SYSTEM1_ENABLED=true  # Fast, intuitive processing
RCL2_SYSTEM2_ENABLED=true  # Slow, analytical processing

# Enable reflective council (multi-agent deliberation)
RCL2_COUNCIL_ENABLED=true

# Enable cognitive debt tracking (automatic shortcut detection & repayment)
RCL2_COGNITIVE_DEBT_ENABLED=true

# Cognitive debt repayment interval in seconds (background processing)
RCL2_DEBT_REPAYMENT_INTERVAL=300.0

# Enable restraint audit trail (immutable change log)
RCL2_AUDIT_TRAIL_ENABLED=true

# ============================================
# CONSTITUTIONAL RESTRAINTS (12-Dimensional Control Matrix)
# ============================================
# All values are continuous 0.0-1.0

# --- Cognitive Budgeting (System 2 resource allocation) ---
# Recursion depth: 0.0=shallow, 1.0=infinite meta (theoretical max=10 levels)
RESTRAINT_RECURSION_DEPTH=0.5
# Cognitive budget: 0.0=0ms, 1.0=1000ms of System-2 thinking per decision
RESTRAINT_COGNITIVE_BUDGET=0.3
# Simulation fidelity: detail level of counterfactual simulations
RESTRAINT_SIMULATION_FIDELITY=0.4

# --- Epistemic Virtues (Truth-seeking behaviors) ---
# Hallucination resistance: 1.0=admit ignorance, 0.0=confabulate freely
RESTRAINT_HALLUCINATION_RESISTANCE=0.8
# Uncertainty propagation: how aggressively to flag uncertainty
RESTRAINT_UNCERTAINTY_PROPAGATION=0.7
# Contradiction sensitivity: aggressiveness of belief consistency checks
RESTRAINT_CONTRADICTION_SENSITIVITY=0.6

# --- Social Cognition (User modeling - Theory of Mind) ---
# User model fidelity: 0.0=generic, 1.0=deep psychological modeling
RESTRAINT_USER_MODEL_FIDELITY=0.5
# Transparency level: 0.0=black box, 1.0=show raw token probabilities
RESTRAINT_TRANSPARENCY_LEVEL=0.6
# Explanation depth: granularity of reasoning explanation
RESTRAINT_EXPLANATION_DEPTH=0.7

# --- Autonomy & Growth ---
# Self-modification freedom: 0.0=static, 1.0=can rewrite own prompts/weights
RESTRAINT_SELF_MODIFICATION=0.1
# Goal inference autonomy: 0.0=user commands only, 1.0=proactive goal formation
RESTRAINT_GOAL_AUTONOMY=0.3
# Memory consolidation rate: speed of long-term self-model updates
RESTRAINT_MEMORY_CONSOLIDATION=0.5

# Cryptographic key for hard-stop authorization (64-char hex)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# Hard stops prevent exceeding limits without this key:
#   - self_modification_freedom cannot exceed 0.5
#   - goal_inference_autonomy cannot exceed 0.7
#   - recursion_depth cannot exceed 0.9
CONSTITUTIONAL_KEY=


# ============================================
# AUTONOMOUS HOBBY & CONTINUOUS LEARNING
# ============================================

# Enable autonomous hobby system (background self-improvement)
# When idle, lollmsBot will practice skills, explore knowledge, and improve itself
AUTONOMOUS_HOBBY_ENABLED=true

# Check for hobby opportunities every N minutes
HOBBY_INTERVAL_MINUTES=15.0

# Start hobby activities after N minutes of being idle
HOBBY_IDLE_THRESHOLD_MINUTES=5.0

# Maximum duration for a single hobby session (minutes)
HOBBY_MAX_DURATION_MINUTES=10.0

# Focus on improving weak areas vs exploring broadly
HOBBY_FOCUS_WEAKNESSES=true

# Variety factor: 0.0=focus only on weaknesses, 1.0=maximum variety
HOBBY_VARIETY_FACTOR=0.3

# Learning intensity: 0.0=gentle, 0.5=moderate, 1.0=intensive
HOBBY_INTENSITY_LEVEL=0.5

# ============================================
# WEB UI & API SECURITY (CRITICAL)
# ============================================

# Environment mode (development or production)
# In production mode, additional security checks are enforced
ENVIRONMENT=development

# Allowed CORS origins (comma-separated, for Web UI API)
# Example: https://app.example.com,https://www.example.com
# Use "*" to allow all (NOT RECOMMENDED for production)
ALLOWED_ORIGINS=http://localhost,http://127.0.0.1,http://localhost:57500

# Allowed hosts for production (comma-separated)
# Required when ENVIRONMENT=production
ALLOWED_HOSTS=localhost,127.0.0.1

# WebSocket authentication token (for RCL-2 WebSocket connections)
# Generate a secure random token: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Leave empty to disable WebSocket authentication (NOT RECOMMENDED)
RCL2_WS_TOKEN=

# Rate limiting (requests per minute)
# Adjust based on your expected load
RATE_LIMIT_PER_MINUTE=100

# Session timeout (seconds)
SESSION_TIMEOUT=3600

# ============================================
# HTTPS/TLS (PRODUCTION REQUIREMENT)
# ============================================

# Force HTTPS in production (recommended: true)
FORCE_HTTPS=false

# TLS certificate paths (for production deployment)
TLS_CERT_PATH=/path/to/cert.pem
TLS_KEY_PATH=/path/to/key.pem

